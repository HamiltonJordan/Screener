<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.o$
<html xmlns="http://www.w3.org/1999/xhtml">
  <!--
		Modified from the Debian original for Ubuntu
		Last updated: 2014-03-19
		See: https://launchpad.net/bugs/1288690
  -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Dynamicvid</title>
	<style type="text/css" media="screen">
		table, th, td {
			border: 1px solid black;
			border-collapse: collapse;
		}
		th, td {
			padding: 15px;
		}
	</style>
	<script src="https://code.jquery.com/jquery-1.10.2.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
</head>

<body oncontextmenu="return false;">
	<h1>SELECTOR</h1>
	<table id="selector_table">
	<tbody>
		<tr>
			<th>Title</th>
			<th>URL</th> 
		</tr>
	</tbody>
	</table>
<script type="text/javascript">
	$(document).ready(function () {
		$myId = 2;
		//PHP - request the JSON list of film information available to user
		$.get("fetchMyFilms.php?userId="+$myId, "", function (response){
			myFilms=JSON.parse(response);
			console.log("response: " + response);
			console.log("myFilms: " + myFilms);

			for (i = 0; i < myFilms.length; i++){
				$("#selector_table").append('<tr><td class="Title"><a href="viewer.html" id="a'+i+'">'+myFilms[i].Title+'</a></td><td>'+myFilms[i].URL+'</td></tr>');
				$("#a"+i).data("URL", myFilms[i].URL);
			}
		});		
		
		$("a").click(function(){
			Cookies.set('URL', $("#"+this.id).data("URL"));
		})
	});

</script>
  </body>
</html>


